<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<title>图片上传demo</title>
		<!--<script src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js" type="text/javascript" charset="utf-8"></script>-->
		<script src="js/zepto_1.1.3.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			div{display: none;}
		</style>
    </head>
    <body>
        <button onclick="captureImage()">拍照</button>
        <input type="file" id="take-picture" accept="image/gif, image/png, image/jpg, image/jpeg">
        <p id="log"></p>
		<script type="text/javascript">
// 扩展API加载完毕后调用onPlusReady回调函数 
document.addEventListener( "plusready", onPlusReady, false );
// 扩展API加载完毕，现在可以正常调用扩展API 
function onPlusReady() {
    log("plusready");
}
// 拍照
function captureImage(){
    var cmr = plus.camera.getCamera();
    var res = cmr.supportedImageResolutions[0];
    var fmt = cmr.supportedImageFormats[0];
    log("Resolution: "+res+", Format: "+fmt);
    cmr.captureImage( function( path ){
            alert( "Capture image success: " + path );  
        },
        function( error ) {
            alert( "Capture image failed: " + error.message );
        },
        {resolution:res,format:fmt}
    );
}
	log(1);
	console.log(1)
	function log(txt){
		$("#log").append("<p>"+txt+"</p>")
	}
    </script>
	</body>
</html>
