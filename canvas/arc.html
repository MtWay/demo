<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>画圆</title>
		<style type="text/css">
			body{margin: 0 ;padding: 0;}
			canvas{display: block;margin: 0 auto;border: 1px solid #f00;}
		</style>
	</head>
	<body>
		<canvas id="can" width="800" height="600"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById("can");
			var context = canvas.getContext("2d");
			context.strokeStyle="#f0f";
			context.translate(400,300);
//					context.arc(0,0,100,0,2*Math.PI,false);
//					context.stroke();
			var radius = 20;
			var arr= [[0,0]];
			
//			loop();
			function loop(){
//				canvas.width=canvas.width;
				var a = arr;
 				arr = [];
				for(var i = 0;i<a.length;i++){
					context.beginPath();
					context.arc(a[i][0],a[i][1],radius,0,2*Math.PI,false);
					context.stroke();
					for(var j = 0;j<6;j++){
						var x = a[i][0]+radius*Math.sin(2*Math.PI/6*j);
						var y = a[i][1]+radius*Math.cos(2*Math.PI/6*j);
						arr.push([x,y]);
					}
				}
				requestAnimationFrame(loop)
			}
			// loop()
//			setInterval(loop,1000)
		</script>
	</body>
</html>
