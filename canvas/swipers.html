<!DOCTYPE html>
<html>

	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<meta charset="UTF-8">
		<title>聚焦放大</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			body{
				overflow-x: hidden;
			}
			
			.swiper-container {
				padding: 50px 0;
				height: 200px;
				margin-bottom: 50px;
				background: #000;
				overflow-y: hidden;
			}
			
			.swiper-wrapper {
				width: 100%;
				height: 100%;
				display: flex;
			}
			
			.swiper-slide {
				width: 100%;
				height: 100%;
				float: left;
				flex-shrink: 0;
			}
			
			.swiper-slide img {
				position: relative;
				width: 100%;
				height: 100%;
			}
		</style>
		<script src="js/jquery-2.1.0.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/swiper.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<div class="swiper-container" id="swiper1">
			<div class="swiper-wrapper">
				<div class="swiper-slide"><img src="img/8f030a025b785cc9563e8947ce08bffe.JPG" /></div>
				<div class="swiper-slide"><img src="img/e3e08a1ebc0020309c7f9b24e59c423e.jpg" /></div>
				<div class="swiper-slide"><img src="img/f28f240cb4f8156ba242bfd1feb7dc30.jpg"></div>
				<div class="swiper-slide"><img src="img/8f030a025b785cc9563e8947ce08bffe.JPG" /></div>
				<div class="swiper-slide"><img src="img/e3e08a1ebc0020309c7f9b24e59c423e.jpg" /></div>
				<div class="swiper-slide"><img src="img/f28f240cb4f8156ba242bfd1feb7dc30.jpg"></div>
			</div>
			  <div class="swiper-pagination"></div>
		</div>
		<p id="showhtml">普通状态</p>
		<script>
			$(function() {
				var maxScale=1.2;
				var minScale=0.75;
				
						var mySwiper = new Swiper('#swiper1', {
								//							autoplay: true, //可选选项，自动滑动
								pagination: {
    el: '.swiper-pagination',
  },
								freeMode: true, //弹性
								freeModeSticky: true, //自动贴合
								slidesPerView: 2, //一行俩
								centeredSlides: true, //居中展示
								on: {
									touchMove: function(event) {
										
											//你的事件
									},
									sliderMove:function(e){
									}
								},

							})
						loop()
						
						function loop(){
							var sw = $(".swiper-slide").width();//单个slide宽度
							var vx = $(".swiper-wrapper").offset().left-sw/2;//当前偏移量，初始为0
							var ds = maxScale-minScale;//可操作缩放区间
//							var vx = mySwiper.translate-sw/2;
//										console.log([sw,vx])
							var index = -Math.floor(vx/sw);//当前位置
							console.log(index)
							$(".swiper-slide").each(function(i,n){
	var x = Math.abs(sw*i+vx);//据当前中心的距离
	
								var scale = maxScale-x/sw/2;
								console.log(scale)
								if(scale<minScale)
								scale=minScale
								if(scale>maxScale)
								scale=maxScale
								$(n).css("transform","scale("+scale+")")	

							})
							
							requestAnimationFrame(loop)
						}
						
						})
		</script>
	</body>

</html>