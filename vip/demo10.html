<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>固定背景效果</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html{
				width: 100%;
			}
			body{

			}
			.content{
				/*height: 100vh;*/

				/*position: relative;*/
				/*z-index: 1;*/
				
			}
			.wrap{
				width:100%;
				height: 100vh;
				background: url(img/1.jpg) no-repeat;
				background-position:center 100%;
				background-attachment:  fixed;
				background-size:auto 80%;
				/*margin-top: 100vh;*/
				position: fixed;
				top: 0;
				/*bottom: 0;*/
				
			}
			.box{
				height: 100vh;
				position: relative;
				z-index: 1;
				background: #f00;
			}
			.show{
				height: 300px;
				position: relative;
				width: 150px;
				margin: 0 auto;
				z-index: 0;
				background: #f00;
			}
			/*.box{
				height: 150vh;
				position: relative;
			}
			.bg{
				position: sticky;
				height: 50vh;
				background: url(img/335524e01eb308622c5aae46ad645f9e.jpg) no-repeat center;
				background-attachment:  fixed;
				margin: 200px 0 ;
				top: 0;
			}*/
		</style>
		<script src="js/jquery-2.1.0.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function(){
				var height =$("html").height()-$(window).height();
				console.log(height)
				$(window).scroll(function(){
//					console.log($(window).scrollTop())
				$(".wrap").css("background-position",'center '+(1-$(window).scrollTop()/height)*100 +'%')
				})
				
			})
		</script>
	</head>
	<body>
		<div class="content">
			<div class="box">
				
			</div>
			<div class="show">
				
			</div>
		<div class="box">
				
			</div>
		</div>
		<div class="wrap">
			
		</div>
		<!--<div class="box">
			<div class="bg">
			
			</div>
		</div>-->
		
		
		
	</body>
</html>
